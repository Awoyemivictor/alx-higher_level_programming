# Problem - You want NGINX Plus to automatically request the JSON Web Key Set (JWKS) from a provider end cache it.

proxy_cache_path /data/nginx/cache levels=1 keys_zone=foo:10m;

server {
	# ...

	location / {
		auth_jwt		"closed site";
		auth_jwt_key_request	/jwks_uri;
	}

	location = /jwks_uri {
		internal;
		proxy_cache foo;
		proxy_pass https://idp.example.com/keys;
	}
}
