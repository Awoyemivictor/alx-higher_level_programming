# Problem - You need NGINX to perform some custom extension using a common programming language.

# Using njs which is NGINScriptd introduced by NGINX which exposes the power of JavaScript into the NGINX configuration by simply enabling a module.


funtion hello(request) {
	request.return(200, "Hello world!);
}

load_module modules/ngx_http_js_module.so;

events {}

http {
	js_include hello_world.js;

	server {
		listen 8000;

		location / {
			js_content hello;
		}
	}
}

# Using Lua

load_module modules/ngx_http_lua_module.so;

events {}

http {
	server {
	listen 8080;
	location / {
		default_type text/html;
		content_by_lua_block {
			ngx.say("hello, world")
			}
		}
	}
}

# Using Perl to set an NGINX variable form the runtime environment

load_module modules/ngx_http_perl_module.so;

events {}

http {
	perl_set $app_endpoint 'sub { return $ENV{"APP_DNS_ENDPOINT"}; }';
	server {
		listen 8080;
		location / {
			proxy_pass http://$app_endpoint	
		}
	}
}
